---
title: "靴をなくしたので、アプリを作ることにした vol2"
emoji: "🐈"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: ["ReactNative", "Expo", "Deno", "TypeScript"]
published: false
---

## それ、LINEでできるじゃん
嫁が、旅行から帰ってきて、アプリを作ることを伝えた。「それ良いけど、LINEのリマインくんでできるよ」と言われた。
...
...
...
まじか。
確かに、旅行中に物をなくさないことに特化したアプリはないかインターネッツで探してみたが、もっと汎用的なアプリでできることは考えていなかった。嫁氏、さすがである。早速使ってみたが、僕が求めていることはできなかったし、UX も僕が求めているものとは程遠い。一安心(？)である。

しかし、LINEではなくても、チャットアプリの API をつかえば、僕が求めているものは作れることを気づいてしまった。
この手のアプリの API は Discord が一番使われている印象がある。Slack は仕事感があるので使いたくない。

しかしよく考えると、Discord でできるとして、そんなに工数が変わるのか？ほぼ調査が終わって実装するだけ、しかもやったことある内容だ。Discord API を調べて、Discord のイベント発火時に DB にデータを書き込む方法とか調べていたら、もうそっちの方が時間がかかる。
明らかなメリットは Firebase を使わなくても良くなることだ。Deno の KV と cron あとは Discord だけで完結させることができる。
デメリットは UX が悪い。PC から操作すること前提であれば、まだ許せそうだが、スマホから操作するとなると、おそらく使わなくなる。やっぱりアプリを作ろう。

## アプリの名前を考えた
ズバリ、「Lost and Found」だ。靴を無くしたことがきっかけで作るアプリとは思えないクールな名前だが、結構気に入っている。ポイントは無くすことを防ぐのではなく、無くした時に見つかる可能性を高めることだ。そのことが名前にも表れていてとても良い。

## 今回の目標: 通知を受け取る & デザインの仮作成
### 通知を受け取る
公式ドキュメントに沿って進めていくだけだ。
https://docs.expo.dev/push-notifications/push-notifications-setup/
割とめんどくさい。

とても簡単に言うと、
1. push token を取得する
2. その token を Expo の Server に登録する
3. その token を API のリクエストに乗せて送る
4. Android は Firebase の FCM 経由で通知が送られる

という流れだ。
おそらく、Expo がネイティブの機能をラップしてくれているのだが、それでもめんどくさい。
作業するだけなので、特に問題なく完了。
https://github.com/katayama8000/lost-and-found-client/pull/3

### デザインの仮作成
画面はとりあえず２つだけでいい。ホーム画面と登録画面のみ。
わざわざ Figma で作るのも面倒なので、コードで書く。

|![app1](/images/lost-and-found/UI1.png =250x)|![app2](/images/lost-and-found/UI2.png =250x)|
|---|---|

とっても雑だけど、とりあえずこれでいい。念の為に伝えておくが、AIにコードを書かせた。僕はもう少しだけデザインセンスがある。
あとは、Push 通知がを受け取った時のモーダルである。
